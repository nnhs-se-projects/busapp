<div class="container">
    <div class="top">
        <div>
            <div class="weather section"><div class="temp"><%= data.weather.temperature %>&deg;F</div><div class="stat"><%= data.weather.status %></div></div>
            <div class="announcement section"><h2>Announcement</h2><div><%= data.announcement %></div></div>
        </div>
        <% if(data.isLocked) { %> <div class="timer"> Loading... </div> <% } %>
    </div>
    <div class="bottom">
        <div class="section">
            <h2>Loading<%= data.isLocked ? " - Wave Locked" : ""%></h2>
            <div class="busContainer">
                <% var loading = data.buses.filter(e => e.status === "Loading").sort((a, b) => a.order - b.order); for(const bus of loading) { %>
                    <p>Bus <b><span class="busNumber loading"><%= bus.number %></span><% if(bus.change) { %> Changed To <span style="color: #ff8080" class="busNumber"><%= bus.change %></span><% } %></b> at <%= bus.order !== 0 && bus.order !== loading.length-1 ? "position " : "" %><%= bus.order === 0 ? "front" : bus.order === loading.length-1 ? "back" : bus.order + 1 %></p>
                <% } %>
            </div>
        </div>
        <div class="section">
            <h2>Next Wave</h2>
            <div class="busContainer">
                <% var loading = data.buses.filter(e => e.status === "Next Wave").sort((a, b) => a.order - b.order); for(const bus of loading) { %>
                    <p>Bus <b><span class="busNumber"><%= bus.number %></span><% if(bus.change) { %> Changed To <span class="busNumber"><%= bus.change %><% } %></span></b></p>
                <% } %>
            </div>
        </div>
    </div> 
</div>